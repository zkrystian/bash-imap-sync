Here is imapsync 1.945 on host noc, a linux system with 0.6/1.9 free GiB of RAM
with Perl 5.26.1 and Mail::IMAPClient 3.42
Transfer started at Fri Sep 20 20:30:39 2019
PID is 7989 my PPID is 6452
Log file is LOG_imapsync/2019_09_20_20_30_39_888_p.tyburcy@fbf-bedandmore.pl_p.tyburcy@fbf-bedandmore.pl.txt ( to change it, use --logfile path ; or use --nolog to turn off logging )
Load is 0.84 0.32 0.21 2/223 on 1 cores
Current directory is /root/bash-imap-sync
Real user id is root (uid 0)
Effective user id is root (euid 0)
$RCSfile: imapsync,v $ $Revision: 1.945 $ $Date: 2019/06/26 19:30:56 $ 
Command line used, run by /usr/bin/perl:
/usr/bin/imapsync --addheader --no-modulesversion --nosyncacls --nosslcheck --syncinternaldates --host1 stella.home.pl --user1 p.tyburcy@fbf-bedandmore.pl --password1 MASKED --host2 afrodyta.boost.pl --user2 p.tyburcy@fbf-bedandmore.pl --password2 MASKED --noauthmd5
Temp directory is /tmp ( to change it use --tmpdir dirpath )
kill -QUIT 7989 # special behavior: call to sub catch_exit
kill -TERM 7989 # special behavior: call to sub catch_exit
kill -INT 7989 # special behavior: call to sub catch_reconnect
kill -HUP 7989 # special behavior: call to sub catch_print
kill -USR1 7989 # special behavior: call to sub toggle_sleep
File /tmp/imapsync.pid does not exist
PID file is /tmp/imapsync.pid ( to change it, use --pidfile filepath ; to avoid it use --pidfile "" )
Writing my PID 7989 in /tmp/imapsync.pid
Writing also my logfile name in /tmp/imapsync.pid : LOG_imapsync/2019_09_20_20_30_39_888_p.tyburcy@fbf-bedandmore.pl_p.tyburcy@fbf-bedandmore.pl.txt
Info: will resync flags for already transferred messages. Use --noresyncflags to not resync flags.
Info: turned ON syncinternaldates, will set the internal dates (arrival dates) on host2 same as host1.
Host1: will try to use LOGIN authentication on host1
Host2: will try to use LOGIN authentication on host2
Host1: imap connection timeout is 120 seconds
Host2: imap connection timeout is 120 seconds
Host1: IMAP server [stella.home.pl] port [143] user [p.tyburcy@fbf-bedandmore.pl]
Host2: IMAP server [afrodyta.boost.pl] port [143] user [p.tyburcy@fbf-bedandmore.pl]
Host1: connecting and login on host1 [stella.home.pl] port [143] with user [p.tyburcy@fbf-bedandmore.pl]
Host1 IP address: 79.96.68.165
Host1 banner: * OK stella.home.pl IdeaImapServer 0.83.292 ready
Host1 capability before authentication: IMAP4rev1 LITERAL+ CHILDREN I18NLEVEL=1 IDLE SORT SORT=DISPLAY UIDPLUS UNSELECT QUOTA MOVE WITHIN LIST-EXTENDED LIST-STATUS SPECIAL-USE XLIST STARTTLS AUTH=PLAIN AUTH=LOGIN I18NLEVEL AUTH
Host1: going to ssl because STARTTLS is in CAPABILITY. Use --notls1 or --notls2 to avoid that behavior
Host1: Socket successfuly converted to SSL
Host1: stella.home.pl says it has CAPABILITY for AUTHENTICATE LOGIN
Host1: success login on [stella.home.pl] with user [p.tyburcy@fbf-bedandmore.pl] auth [LOGIN]
Host2: connecting and login on host2 [afrodyta.boost.pl] port [143] with user [p.tyburcy@fbf-bedandmore.pl]
Host2 IP address: 148.251.0.25
Host2 banner: * OK [CAPABILITY IMAP4rev1 SASL-IR LOGIN-REFERRALS ID ENABLE IDLE LITERAL+ STARTTLS AUTH=PLAIN] Dovecot DA ready.
Host2 capability before authentication: IMAP4rev1 SASL-IR LOGIN-REFERRALS ID ENABLE IDLE LITERAL+ STARTTLS AUTH=PLAIN AUTH
Host2: going to ssl because STARTTLS is in CAPABILITY. Use --notls1 or --notls2 to avoid that behavior
Host2: Socket successfuly converted to SSL
Host2: success login on [afrodyta.boost.pl] with user [p.tyburcy@fbf-bedandmore.pl] auth [LOGIN]
Host1: state Authenticated
Host2: state Authenticated
Host1 capability once authenticated: IMAP4rev1 LITERAL+ CHILDREN I18NLEVEL=1 IDLE SORT SORT=DISPLAY UIDPLUS UNSELECT QUOTA MOVE WITHIN LIST-EXTENDED LIST-STATUS SPECIAL-USE XLIST I18NLEVEL
Host2 capability once authenticated: IMAP4rev1 SASL-IR LOGIN-REFERRALS ID ENABLE IDLE SORT SORT=DISPLAY THREAD=REFERENCES THREAD=REFS THREAD=ORDEREDSUBJECT MULTIAPPEND URL-PARTIAL CATENATE UNSELECT CHILDREN NAMESPACE UIDPLUS LIST-EXTENDED I18NLEVEL=1 CONDSTORE QRESYNC ESEARCH ESORT SEARCHRES WITHIN CONTEXT=SEARCH LIST-STATUS BINARY MOVE SNIPPET=FUZZY PREVIEW=FUZZY LITERAL+ NOTIFY QUOTA THREAD I18NLEVEL CONTEXT SNIPPET PREVIEW
Host1: No ID capability

Host2: found ID capability. Sending/receiving ID, presented in raw IMAP for now.
In order to avoid sending/receiving ID, use option --noid
Sending: 6 ID ("name" "imapsync" "version" "1.945" "os" "linux" "vendor" "Gilles LAMIRAL" "support-url" "https://imapsync.lamiral.info/" "date" "26-Jun-2019 19:30:56 +0000" "side" "host2")
Sent 181 bytes
Read: 	* ID ("name" "Dovecot")
  	6 OK ID completed (0.001 + 0.000 secs).


Host2: found quota, presented in raw IMAP
Sending: 7 GETQUOTAROOT INBOX
Sent 22 bytes
Read: 	7 OK No quota (0.040 + 0.000 + 0.039 secs).

Host2: Quota current storage is 0 bytes. Limit is 0 bytes. So 0 % full
Host1: found 7 folders.
Host2: found 7 folders.
Host1: guessing separator from folder listing: [/]
Host1: No NAMESPACE capability, so using guessed separator [/]
You can set the separator character with the --sep1 option,
the complete listing of folders may help you to find it
[DRAFTS]
[INBOX]
[SENT]
[SPAM]
[TRASH]
[confirmed-ham]
[confirmed-spam]
Host2: guessing separator from folder listing: [/]
Host2: separator given by NAMESPACE: [.]
Host1: guessing prefix from folder listing: []
Host1: No NAMESPACE capability so using guessed prefix []
You can set the prefix namespace with the --prefix1 option,
the folowing listing of folders may help you to find it:
[DRAFTS]
[INBOX]
[SENT]
[SPAM]
[TRASH]
[confirmed-ham]
[confirmed-spam]
Host2: guessing prefix from folder listing: []
Host2: prefix given by NAMESPACE: []
Host1: separator and prefix: [/][]
Host2: separator and prefix: [.][]
Including all folders found by default. Use --subscribed or --folder or --folderrec or --include to select specific folders. Use --exclude to unselect specific folders.
Host1: Checking wanted folders exist. Use --nocheckfoldersexist to avoid this check (shared of public namespace targeted).
Host1: Checking wanted folders are selectable. Use --nocheckselectable to avoid this check.
Turned off automapping folders ( use --automap to turn on automapping )

++++ Listing folders
All foldernames are presented between brackets like [X] where X is the foldername.
When a foldername contains non-ASCII characters it is presented in the form
[X] = [Y] where
X is the imap foldername you have to use in command line options and
Y is the utf8 output just printed for convenience, to recognize it.

Host1: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren \Drafts) "." "DRAFTS"
* LIST (\HasNoChildren) "." "INBOX"
* LIST (\HasNoChildren \Sent) "." "SENT"
* LIST (\HasNoChildren \Junk) "." "SPAM"
* LIST (\HasNoChildren \Trash) "." "TRASH"
* LIST (\HasNoChildren) "." "confirmed-ham"
* LIST (\HasNoChildren) "." "confirmed-spam"
17 OK Completed

[DRAFTS]
[INBOX]
[SENT]
[SPAM]
[TRASH]
[confirmed-ham]
[confirmed-spam]

Host2: folders list (first the raw imap format then the [X] = [Y]):
* LIST (\HasNoChildren) "." confirmed-spam
* LIST (\HasNoChildren) "." confirmed-ham
* LIST (\HasNoChildren) "." TRASH
* LIST (\HasNoChildren) "." SPAM
* LIST (\HasNoChildren) "." SENT
* LIST (\HasNoChildren) "." DRAFTS
* LIST (\HasNoChildren) "." INBOX
12 OK List completed (0.001 + 0.000 secs).

[DRAFTS]
[INBOX]
[SENT]
[SPAM]
[TRASH]
[confirmed-ham]
[confirmed-spam]


Folders sizes before the synchronization.
You can remove foldersizes listings by using "--nofoldersizes" and "--nofoldersizesatend"
but then you will also lose the ETA (Estimation Time of Arrival) given after each message copy.
++++ Calculating sizes of 7 folders on Host1
Host1 folder     1/7 [DRAFTS]                            Size:         0 Messages:     0 Biggest:         0
Host1 folder     2/7 [INBOX]                             Size:  71279442 Messages:    74 Biggest:   8811634
Host1 folder     3/7 [SENT]                              Size:         0 Messages:     0 Biggest:         0
Host1 folder     4/7 [SPAM]                              Size:     46182 Messages:     2 Biggest:     42939
Host1 folder     5/7 [TRASH]                             Size:  21460007 Messages:    29 Biggest:   3951071
Host1 folder     6/7 [confirmed-ham]                     Size:         0 Messages:     0 Biggest:         0
Host1 folder     7/7 [confirmed-spam]                    Size:         0 Messages:     0 Biggest:         0
Host1 Nb folders:                7 folders
Host1 Nb messages:             105 messages
Host1 Total size:         92785631 bytes (88.487 MiB)
Host1 Biggest message:     8811634 bytes (8.403 MiB)
Host1 Time spent:              1.2 seconds
++++ Calculating sizes of 7 folders on Host2
Host2 folder     1/7 [DRAFTS]                            Size:         0 Messages:     0 Biggest:         0
Host2 folder     2/7 [INBOX]                             Size:  63376055 Messages:    71 Biggest:   8811634
Host2 folder     3/7 [SENT]                              Size:         0 Messages:     0 Biggest:         0
Host2 folder     4/7 [SPAM]                              Size:     46182 Messages:     2 Biggest:     42939
Host2 folder     5/7 [TRASH]                             Size:  19057228 Messages:    33 Biggest:   3951071
Host2 folder     6/7 [confirmed-ham]                     Size:         0 Messages:     0 Biggest:         0
Host2 folder     7/7 [confirmed-spam]                    Size:         0 Messages:     0 Biggest:         0
Host2 Nb folders:                7 folders
Host2 Nb messages:             106 messages
Host2 Total size:         82479465 bytes (78.659 MiB)
Host2 Biggest message:     8811634 bytes (8.403 MiB)
Host2 Time spent:              0.3 seconds
++++ Looping on each one of 7 folders to sync
Folder     1/7 [DRAFTS]                            -> [DRAFTS]                           
Host1: folder [DRAFTS] has 0 messages in total (mentioned by SELECT)
Host2: folder [DRAFTS] has 0 messages in total (mentioned by SELECT)
Host2: folder [DRAFTS] permanentflags: 
Host1: folder [DRAFTS] considering 0 messages
Host2: folder [DRAFTS] considering 0 messages
Host1: folder [DRAFTS] selected 0 messages, duplicates 0
Host2: folder [DRAFTS] selected 0 messages, duplicates 0
Folder     2/7 [INBOX]                             -> [INBOX]                            
Host1: folder [INBOX] has 74 messages in total (mentioned by SELECT)
Host2: folder [INBOX] has 71 messages in total (mentioned by SELECT)
Host2: folder [INBOX] permanentflags: 
Host1: folder [INBOX] considering 74 messages
Host2: folder [INBOX] considering 71 messages
Host1: folder [INBOX] selected 74 messages, duplicates 0
Host2: folder [INBOX] selected 71 messages, duplicates 0
msg INBOX/752 {88734}         copied to INBOX/72         0.23 msgs/s  19.982 KiB/s 86.654 KiB copied ETA: Fri Sep 20 20:38:12 2019  447 s  103/105 msgs left
msg INBOX/763 {104103}        copied to INBOX/73         0.44 msgs/s  41.008 KiB/s 188.317 KiB copied ETA: Fri Sep 20 20:34:26 2019  220 s  96/105 msgs left
msg INBOX/779 {8811634}       copied to INBOX/74         0.36 msgs/s  1.030 MiB/s 8.587 MiB copied ETA: Fri Sep 20 20:34:45 2019  236 s  85/105 msgs left
msg INBOX/845 {2500859}       copied to INBOX/75         0.43 msgs/s  1.172 MiB/s 10.972 MiB copied ETA: Fri Sep 20 20:32:17 2019  87 s  37/105 msgs left
msg INBOX/846 {2678942}       copied to INBOX/76         0.48 msgs/s  1.306 MiB/s 13.527 MiB copied ETA: Fri Sep 20 20:32:06 2019  75 s  36/105 msgs left
msg INBOX/847 {13641}         copied to INBOX/77         0.57 msgs/s  1.290 MiB/s 13.540 MiB copied ETA: Fri Sep 20 20:31:53 2019  61 s  35/105 msgs left
msg INBOX/848 {17331}         copied to INBOX/78         0.66 msgs/s  1.277 MiB/s 13.557 MiB copied ETA: Fri Sep 20 20:31:43 2019  52 s  34/105 msgs left
msg INBOX/850 {2610282}       copied to INBOX/79         0.70 msgs/s  1.395 MiB/s 16.046 MiB copied ETA: Fri Sep 20 20:31:40 2019  47 s  33/105 msgs left
msg INBOX/851 {89371}         copied to INBOX/80         0.77 msgs/s  1.383 MiB/s 16.131 MiB copied ETA: Fri Sep 20 20:31:34 2019  41 s  32/105 msgs left
msg INBOX/852 {2754157}       copied to INBOX/81         0.79 msgs/s  1.474 MiB/s 18.758 MiB copied ETA: Fri Sep 20 20:31:33 2019  39 s  31/105 msgs left
Folder     3/7 [SENT]                              -> [SENT]                             
Host1: folder [SENT] has 0 messages in total (mentioned by SELECT)
Host2: folder [SENT] has 0 messages in total (mentioned by SELECT)
Host2: folder [SENT] permanentflags: 
Host1: folder [SENT] considering 0 messages
Host2: folder [SENT] considering 0 messages
Host1: folder [SENT] selected 0 messages, duplicates 0
Host2: folder [SENT] selected 0 messages, duplicates 0
Folder     4/7 [SPAM]                              -> [SPAM]                             
Host1: folder [SPAM] has 2 messages in total (mentioned by SELECT)
Host2: folder [SPAM] has 2 messages in total (mentioned by SELECT)
Host2: folder [SPAM] permanentflags: 
Host1: folder [SPAM] considering 2 messages
Host2: folder [SPAM] considering 2 messages
Host1: folder [SPAM] selected 2 messages, duplicates 0
Host2: folder [SPAM] selected 2 messages, duplicates 0
Folder     5/7 [TRASH]                             -> [TRASH]                            
Host1: folder [TRASH] has 29 messages in total (mentioned by SELECT)
Host2: folder [TRASH] has 33 messages in total (mentioned by SELECT)
Host2: folder [TRASH] permanentflags: 
Host1: folder [TRASH] considering 29 messages
Host2: folder [TRASH] considering 33 messages
Host1: folder [TRASH] selected 29 messages, duplicates 0
Host2: folder [TRASH] selected 33 messages, duplicates 0
msg TRASH/1521 {548925}       copied to TRASH/34         0.74 msgs/s  1.300 MiB/s 19.281 MiB copied ETA: Fri Sep 20 20:31:19 2019  23 s  17/105 msgs left
msg TRASH/1547 {12281}        copied to TRASH/35         0.80 msgs/s  1.289 MiB/s 19.293 MiB copied ETA: Fri Sep 20 20:31:01 2019  5 s  4/105 msgs left
msg TRASH/1549 {105586}       copied to TRASH/36         0.86 msgs/s  1.282 MiB/s 19.394 MiB copied ETA: Fri Sep 20 20:31:00 2019  3 s  3/105 msgs left
msg TRASH/1551 {31131}        copied to TRASH/37         0.91 msgs/s  1.269 MiB/s 19.423 MiB copied ETA: Fri Sep 20 20:30:58 2019  2 s  2/105 msgs left
msg TRASH/1553 {2612198}      copied to TRASH/38         0.91 msgs/s  1.327 MiB/s 21.915 MiB copied ETA: Fri Sep 20 20:30:58 2019  1 s  1/105 msgs left
msg TRASH/1555 {71916}        copied to TRASH/39         0.96 msgs/s  1.319 MiB/s 21.983 MiB copied ETA: Fri Sep 20 20:30:58 2019  0 s  0/105 msgs left
Folder     6/7 [confirmed-ham]                     -> [confirmed-ham]                    
Host1: folder [confirmed-ham] has 0 messages in total (mentioned by SELECT)
Host2: folder [confirmed-ham] has 0 messages in total (mentioned by SELECT)
Host2: folder [confirmed-ham] permanentflags: 
Host1: folder [confirmed-ham] considering 0 messages
Host2: folder [confirmed-ham] considering 0 messages
Host1: folder [confirmed-ham] selected 0 messages, duplicates 0
Host2: folder [confirmed-ham] selected 0 messages, duplicates 0
Folder     7/7 [confirmed-spam]                    -> [confirmed-spam]                   
Host1: folder [confirmed-spam] has 0 messages in total (mentioned by SELECT)
Host2: folder [confirmed-spam] has 0 messages in total (mentioned by SELECT)
Host2: folder [confirmed-spam] permanentflags: 
Host1: folder [confirmed-spam] considering 0 messages
Host2: folder [confirmed-spam] considering 0 messages
Host1: folder [confirmed-spam] selected 0 messages, duplicates 0
Host2: folder [confirmed-spam] selected 0 messages, duplicates 0
++++ End looping on each folder

Folders sizes after the synchronization.
You can remove this foldersizes listing by using  "--nofoldersizesatend"
++++ Calculating sizes of 7 folders on Host1
Host1 folder     1/7 [DRAFTS]                            Size:         0 Messages:     0 Biggest:         0
Host1 folder     2/7 [INBOX]                             Size:  71279442 Messages:    74 Biggest:   8811634
Host1 folder     3/7 [SENT]                              Size:         0 Messages:     0 Biggest:         0
Host1 folder     4/7 [SPAM]                              Size:     46182 Messages:     2 Biggest:     42939
Host1 folder     5/7 [TRASH]                             Size:  21460007 Messages:    29 Biggest:   3951071
Host1 folder     6/7 [confirmed-ham]                     Size:         0 Messages:     0 Biggest:         0
Host1 folder     7/7 [confirmed-spam]                    Size:         0 Messages:     0 Biggest:         0
Host1 Nb folders:                7 folders
Host1 Nb messages:             105 messages
Host1 Total size:         92785631 bytes (88.487 MiB)
Host1 Biggest message:     8811634 bytes (8.403 MiB)
Host1 Time spent:              0.4 seconds
++++ Calculating sizes of 7 folders on Host2
Host2 folder     1/7 [DRAFTS]                            Size:         0 Messages:     0 Biggest:         0
Host2 folder     2/7 [INBOX]                             Size:  83045109 Messages:    81 Biggest:   8811634
Host2 folder     3/7 [SENT]                              Size:         0 Messages:     0 Biggest:         0
Host2 folder     4/7 [SPAM]                              Size:     46182 Messages:     2 Biggest:     42939
Host2 folder     5/7 [TRASH]                             Size:  22439265 Messages:    39 Biggest:   3951071
Host2 folder     6/7 [confirmed-ham]                     Size:         0 Messages:     0 Biggest:         0
Host2 folder     7/7 [confirmed-spam]                    Size:         0 Messages:     0 Biggest:         0
Host2 Nb folders:                7 folders
Host2 Nb messages:             122 messages
Host2 Total size:        105530556 bytes (100.642 MiB)
Host2 Biggest message:     8811634 bytes (8.403 MiB)
Host2 Time spent:              0.1 seconds
++++ Statistics
Transfer started on                     : Fri Sep 20 20:30:39 2019
Transfer ended on                       : Fri Sep 20 20:30:58 2019
Transfer time                           : 18.8 sec
Folders synced                          : 7/7 synced
Messages transferred                    : 16 
Messages skipped                        : 89
Messages found duplicate on host1       : 0
Messages found duplicate on host2       : 0
Messages found crossduplicate on host2  : 0
Messages void (noheader) on host1       : 0  
Messages void (noheader) on host2       : 0
Messages found in host1 not in host2    : 0 messages
Messages found in host2 not in host1    : 13 messages
Messages deleted on host1               : 0
Messages deleted on host2               : 0
Total bytes transferred                 : 23051091 (21.983 MiB)
Total bytes skipped                     : 69734540 (66.504 MiB)
Message rate                            : 0.8 messages/s
Average bandwidth rate                  : 1194.4 KiB/s
Reconnections to host1                  : 0
Reconnections to host2                  : 0
Memory consumption at the end           : 261.3 MiB (started with 221.6 MiB)
Load end is                             : 0.66 0.31 0.21 1/219 on 1 cores
Biggest message                         : 8811634 bytes (8.403 MiB)
Memory/biggest message ratio            : 31.1
Start difference host2 - host1          : 1 messages, -10306166 bytes (-9.829 MiB)
Final difference host2 - host1          : 17 messages, 12744925 bytes (12.155 MiB)
The sync looks good, all 105 identified messages in host1 are on host2.
The sync is not strict, there are 13 messages in host2 that are not on host1. Use --delete2 to delete them and have a strict sync.
Detected 0 errors

Check if a new imapsync release is available by adding --releasecheck
Homepage: https://imapsync.lamiral.info/
Exiting with return value 0 (EX_OK: successful termination)
Log file is LOG_imapsync/2019_09_20_20_30_39_888_p.tyburcy@fbf-bedandmore.pl_p.tyburcy@fbf-bedandmore.pl.txt ( to change it, use --logfile filepath ; or use --nolog to turn off logging )
